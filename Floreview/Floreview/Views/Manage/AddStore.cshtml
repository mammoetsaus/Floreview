@model Floreview.ViewModels.CMS.StoreVM

<header class="cms-header">
    <nav>
        <ul class="content-container">
            <li>
                @Html.ActionLink("Home", "Index", "Home")
            </li>
            <li>
                @Html.ActionLink("Blog", "Index", "Blog")
            </li>
            <li>
                @Html.ActionLink("Floreview", "Index", "Home")
            </li>
            <li>
                @Html.ActionLink("Contact", "Index", "Home")
            </li>
            <li class="nav-login">
                @Html.Partial("_LoginPartial")
            </li>
        </ul>
    </nav>

    @if (User.Identity.IsAuthenticated && User.IsInRole("Admin"))
    {
        <div id="cms-menu">
            <ul class="content-container">
                <li>
                    @Html.ActionLink("Winkels", "Store", "Manage")
                </li>
            </ul>
        </div>
    }
</header>

@using (Html.BeginForm("AddStore", "Manage", FormMethod.Post, new { @id = "form-add-store", @class = "content-container", enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken();
    @Html.ValidationSummary(true);
    
    <section class="form-add-store-part">
        <h2>Winkel</h2>

        @Html.TextBoxFor(model => model.Company.Name, new { @placeholder = "Naam", @autocomplete = "off" })
        @Html.ValidationMessageFor(model => model.Company.Name)

        @Html.TextAreaFor(model => model.Company.DescriptionShort, new { @placeholder = "Korte beschrijving" })
        @Html.ValidationMessageFor(model => Model.Company.DescriptionShort)

        @Html.TextAreaFor(model => model.Company.DescriptionLong, new { @placeholder = "Lange beschrijving" })
        @Html.ValidationMessageFor(model => model.Company.DescriptionLong)

        @Html.TextBoxFor(model => model.Company.Facebook, new { @placeholder = "Facebook", @autocomplete = "off" })
        @Html.ValidationMessageFor(model => model.Company.Facebook)

        @Html.TextBoxFor(model => model.Company.Website, new { @placeholder = "Website", @autocomplete = "off" })
        @Html.ValidationMessageFor(model => model.Company.Website)

        <input id="add-store-avatar" type="file" name="CompanyAvatar" accept="image/*"/>
        <img id="add-store-avatar-preview" class="image-previews" src="http://floreview.blob.core.windows.net/profiles/profile_store_default.jpg" alt="Store avatar preview" />
    </section>

    <section class="form-add-store-part">
        <h2>Florist</h2>

        @Html.TextBoxFor(model => model.Company.Florist.FirstName, new { @placeholder = "Voornaam", @autocomplete = "off" })
        @Html.ValidationMessageFor(model => model.Company.Florist.FirstName)

        @Html.TextBoxFor(model => model.Company.Florist.LastName, new { @placeholder = "Achternaam", @autocomplete = "off" })
        @Html.ValidationMessageFor(model => model.Company.Florist.LastName)

        @Html.TextBoxFor(model => model.Company.Florist.Phone, new { @placeholder = "Telefoon", @autocomplete = "off" })
        @Html.ValidationMessageFor(model => model.Company.Florist.Phone)

        @Html.TextBoxFor(model => model.Company.Florist.Cellphone, new { @placeholder = "GSM", @autocomplete = "off" })
        @Html.ValidationMessageFor(model => model.Company.Florist.Cellphone)

        @Html.TextBoxFor(model => model.Company.Email, new { @placeholder = "E-mail", @autocomplete = "off" })
        @Html.ValidationMessageFor(model => model.Company.Email)

        <input id="add-store-florist-avatar" type="file" name="FloristAvatar" accept="image/*" />
        <img id="add-store-avatar-florist-preview" class="image-previews" src="http://floreview.blob.core.windows.net/profiles/profile_florist_default.jpg" alt="Profile avatar preview" />
    
        <input id="add-store-images" type="file" name="CompanyImages" accept="image/*" multiple="multiple" />

        <ul id="store-images-list">
        </ul>
    </section>

    <section class="form-add-store-part">
        <h2>Plaats</h2>

        @Html.TextBoxFor(model => model.Company.Location.City, new { @placeholder = "Gemeente", @id = "add-store-city", @list = "lstCities", @autocomplete = "off" })
        @Html.ValidationMessageFor(model => model.Company.Location.City)

        @Html.TextBoxFor(model => model.Company.Address, new { @placeholder = "Adres", @id = "add-store-address", @autocomplete = "off" })
        @Html.ValidationMessageFor(model => model.Company.Address)

        @Html.HiddenFor(model => model.LatitudeRAW, new { @id = "hidden-latitude" })
        @Html.HiddenFor(model => model.LongitudeRAW, new { @id = "hidden-longitude" })
        
        <div id="add-store-map-canvas"></div>

        <input type="submit" value="Opslaan" />
    </section>
}

<datalist id="lstCities">
    <select>
        <option id="0" value="Prefill item"></option>
    </select>
</datalist>

<script>
    $(document).ready(function () {
        initGMaps();
    });

    function initGMaps() {
        geocoder = new google.maps.Geocoder();
        var myLatLng = new google.maps.LatLng(51.053671, 3.725456);
        var mapOptions = {
            zoom: 14,
            center: myLatLng
        }
        map = new google.maps.Map(document.getElementById("add-store-map-canvas"), mapOptions);
    }
</script>